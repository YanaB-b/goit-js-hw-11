{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,0BAOA,MAAMC,EAAM,CACVC,KAAMC,SAASC,cAAc,gBAC7BC,QAASF,SAASC,cAAc,aAK5BE,EAAW,IAAIC,EAAAR,GAAJ,CAAmB,cAC9BS,EAAoB,IAAI,EAAAC,EAAAC,SACxBC,EAAc,IChBL,MAMfC,UAAUC,GACN,OAAOV,SAASC,cAAcS,E,CAElCC,OACIC,KAAKC,OAAOC,UAAUC,IAAI,S,CAE9BC,OACIJ,KAAKC,OAAOC,UAAUG,OAAO,S,CAEjCC,UACIN,KAAKC,OAAOM,UAAW,EACvBP,KAAKC,OAAOO,YAAc,Y,CAE9BC,SACIT,KAAKC,OAAOM,UAAW,EACvBP,KAAKC,OAAOO,YAAc,W,CApB1BE,aAAaZ,SAACA,EAAQa,SAAEA,IACpBX,KAAKC,OAASD,KAAKH,UAAUC,GAC1Ba,EAAUX,KAAKD,OACbC,KAAKI,M,GDYkB,CAClCN,SAAU,aACVa,UAAU,IAiBZ,SAASC,IAIL,OAHAhB,EAAYU,UACZV,EAAYQ,OAELX,EACJoB,YACAC,MAAKC,IA0DZ,SAAsBA,GACW,IAA3BtB,EAAkBuB,MACxBxB,EAAAyB,GAASC,OAAOC,QAAQ,oBAAoBJ,EAAIK,qBAC3CL,EAAIM,KAAKC,OAAS7B,EAAkB8B,UACvC3B,EAAYG,OACZP,EAAAyB,GAASC,OAAOM,QACd,8D,CA/DIC,CAAaV,GAEPA,EAAIM,QAEXP,KAAKY,GACLC,MAAMC,GACNC,SAAQ,KACP3C,EAAIC,KAAK2C,QACTlC,EAAYa,QAAQ,G,CAI5B,SAASiB,EAAcK,GACnB,IAAIC,EAAM,GACVA,EAAMD,EAAOE,KAAI,EAACC,aAACA,EAAYC,cAAEA,EAAaC,KAAEA,EAAIC,MAAEA,EAAKC,MAAEA,EAAKC,SAAEA,EAAQC,UAAEA,KACrE,uCACuBL,uEAGLD,WAAsBE,2HAIzCC,qEAGAC,6EAIAC,8EAIAC,yCAMPC,KAAK,IAGNvD,EAAII,QAAQoD,mBAAmB,YAAaV,GAC5CzC,EAASoD,S,CAMb,SAASf,EAAQgB,GACbC,QAAQC,IAAKF,GAEbpD,EAAAyB,GAASC,OAAO6B,QAAQ,4EACxBnD,EAAYG,M,CA3EhBb,EAAIC,KAAK6D,iBAAiB,UAG1B,SAAkBC,GACfA,EAAEC,iBAEFzD,EAAkB0D,EAAIF,EAAEG,cAAcC,SAASC,YAAYC,MAAMC,OAEjE5D,EAAYQ,OACZX,EAAkBgE,YA4DjBvE,EAAII,QAAQoE,UAAY,GA1DzB9C,G,IAVHhB,EAAYK,OAAO+C,iBAAiB,QAASpC","sources":["src/01-index.js","src/components/loadMoreBtn.js"],"sourcesContent":["import simpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport Notiflix from \"notiflix\";\nimport GalleryApiService from \"./NewsApiService\";\nimport LoadMoreBtn from \"./components/loadMoreBtn\";\n\nconst ref = {\n  form: document.querySelector(\".search-form\"),\n  gallery: document.querySelector(\".gallery\"),\n\n}; \n \n\nconst lightbox = new simpleLightbox('.gallery a');\nconst galleryApiService = new GalleryApiService();\nconst loadMoreBtn = new LoadMoreBtn({\n  selector: \".load-more\",\n  isHidden: true,\n});\n\nref.form.addEventListener(\"submit\", onSubmit);\nloadMoreBtn.button.addEventListener(\"click\", fetchArticles);\n\nfunction onSubmit(e) {\n   e.preventDefault();\n   \n   galleryApiService.q = e.currentTarget.elements.searchQuery.value.trim();\n\n   loadMoreBtn.show();\n   galleryApiService.resetPage();\n   clearList();\n   fetchArticles();\n\n}\nfunction fetchArticles() {\n    loadMoreBtn.disable();\n    loadMoreBtn.show();\n\n    return galleryApiService\n      .getImages()\n      .then(res => {\n        notification(res);\n     \n       return res.hits\n      })\n      .then(appendGallery)\n      .catch(OnError)\n      .finally(() => {\n        ref.form.reset();\n        loadMoreBtn.enable();\n\n      });\n}\nfunction appendGallery(markup) {\n    let img = '';\n    img = markup.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) =>\n    { return `\n    <a class=\"gallery-item\" href=\"${largeImageURL}\">\n    <div class=\"photo-card\">\n  \n    <img class=\"images\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" width=\"280\" height=\"180\"/>\n    \n<div class=\"info\">\n  <p class=\"info-item\"> <b>Likes</b>\n    <span>${likes}</span>\n  </p>\n  <p class=\"info-item\"><b>Views</b> \n    <span>${views}</span>\n  </p>\n  <p class=\"info-item\">\n    <b>Comments</b>\n    <span>${comments}</span>\n  </p>\n  <p class=\"info-item\">\n    <b>Downloads</b>\n    <span>${downloads}</span>\n  </p>\n</div>\n</div></a>`;\n    }\n    )\n    .join('');\n\n\n    ref.gallery.insertAdjacentHTML(\"beforeend\", img);\n    lightbox.refresh();\n  }\n  \n  function clearList() {\n    ref.gallery.innerHTML = \"\";\n  }\nfunction OnError(err) {\n    console.log (err);\n  \n    Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again.');\n    loadMoreBtn.hide();\n}\n\nfunction notification(res) {\n  if (galleryApiService.page === 2)\nNotiflix.Notify.success(`Hooray! We found ${res.totalHits} images.`);\n if (res.hits.length < galleryApiService.perPage) {\n  loadMoreBtn.hide();\n  Notiflix.Notify.warning(\n    \"We're sorry, but you've reached the end of search results.\"\n  );\n}  \n}\n\n","export default class LoadMoreBtn{\n    constructor ({selector, isHidden}){\n        this.button = this.getButton(selector);\n        if(isHidden) this.hide();\n        else this.show();\n    }\ngetButton(selector) {\n    return document.querySelector(selector);\n}\nhide() {\n    this.button.classList.add('hidden');\n}\nshow() {\n    this.button.classList.remove('hidden');\n}\ndisable() {\n    this.button.disabled = true;\n    this.button.textContent = 'Loadind...';\n}\nenable() {\n    this.button.disabled = false;\n    this.button.textContent = 'Load more';\n\n}\n}"],"names":["$fZKcF","parcelRequire","$75c9065a99106def$var$ref","form","document","querySelector","gallery","$75c9065a99106def$var$lightbox","$parcel$interopDefault","$75c9065a99106def$var$galleryApiService","$bUYGH","default","$75c9065a99106def$var$loadMoreBtn","getButton","selector","hide","this","button","classList","add","show","remove","disable","disabled","textContent","enable","constructor","isHidden","$75c9065a99106def$var$fetchArticles","getImages","then","res","page","$7Y9D8","Notify","success","totalHits","hits","length","perPage","warning","$75c9065a99106def$var$notification","$75c9065a99106def$var$appendGallery","catch","$75c9065a99106def$var$OnError","finally","reset","markup","img","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","refresh","err","console","log","failure","addEventListener","e","preventDefault","q","currentTarget","elements","searchQuery","value","trim","resetPage","innerHTML"],"version":3,"file":"01-loadMoreBtn.7390886c.js.map"}