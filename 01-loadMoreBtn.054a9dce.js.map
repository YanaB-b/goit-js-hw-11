{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,0BCAAC,EAAAD,EAAA,S,aAAeE,ECAX,W,sBDAiBC,EACJC,G,IAACC,EAADD,EAACC,SAAUC,EAAXF,EAAWE,S,aACpBC,KAAKC,OAASD,KAAKE,UAAUJ,GAC1BC,EAAUC,KAAKG,OACbH,KAAKI,M,iBAElBC,IAAA,Y,MAAA,SAAUP,GACN,OAAOQ,SAASC,cAAcT,E,IAElCO,IAAA,O,MAAA,WACIL,KAAKC,OAAOO,UAAUC,IAAI,S,IAE9BJ,IAAA,O,MAAA,WACIL,KAAKC,OAAOO,UAAUE,OAAO,S,IAEjCL,IAAA,U,MAAA,WACIL,KAAKC,OAAOU,SAAU,EACtBX,KAAKC,OAAOW,YAAc,Y,IAE9BP,IAAA,S,MAAA,WACIL,KAAKC,OAAOU,SAAU,EACtBX,KAAKC,OAAOW,YAAc,W,OCrB1B,GFOEC,EAAM,CACVC,KAAMR,SAASC,cAAc,gBAC7BQ,QAAST,SAASC,cAAc,aAK5BS,EAAW,IAAIC,EAAAzB,GAAJ,CAAmB,cAC9B0B,EAAoB,IAAI,EAAAC,EAAAC,SACxBC,EAAc,IAAI1B,EAAY,CAClCG,SAAU,aACVC,UAAU,IAiBZ,SAASuB,IAIL,OAHAD,EAAYV,UACZU,EAAYjB,OAELc,EACJK,aACAC,MAAK,SAAAC,GAGL,OAuDP,SAAsBA,GACW,IAA3BP,EAAkBQ,KACxBT,EAAAU,GAASC,OAAOC,QAAQ,oBAAkCC,OAAdL,EAAIM,UAAU,aACjDN,EAAIO,KAAKC,OAASf,EAAkBgB,UAC3Cb,EAAYlB,OACZc,EAAAU,GAASC,OAAOO,QACd,8D,CA/DIC,CAAaX,GAEPZ,EAAImB,I,IAEXR,KAAKa,GACLC,MAAMC,GACNC,SAAQ,WACP3B,EAAIC,KAAK2B,QACTpB,EAAYqB,Q,IAIpB,SAASL,EAAcM,GACnB,IAAIC,EACJA,EAAMD,EAAOE,KAAI,SAAAhD,G,IAAEiD,EAAYjD,EAAZiD,aAAcC,EAAalD,EAAbkD,cAAeC,EAAInD,EAAJmD,KAAMC,EAAKpD,EAALoD,MAAOC,EAAKrD,EAALqD,MAAOC,EAAQtD,EAARsD,SAAUC,EAASvD,EAATuD,UAC5E,MAAO,uCAIkBtB,OAHKiB,EAAc,uEAGGjB,OAAtBgB,EAAa,WAIhChB,OAJyCkB,EAAK,2HAO9ClB,OAHAmB,EAAM,qEAONnB,OAJAoB,EAAM,6EAQNpB,OAJAqB,EAAS,8EAICrB,OAAVsB,EAAU,sC,IAMjBC,KAAK,IAGNxC,EAAIE,QAAQuC,mBAAmB,YAAaV,GAC5C5B,EAASuC,S,CAMb,SAAShB,EAAQiB,GACbC,QAAQC,IAAKF,GAEbvC,EAAAU,GAASC,OAAO+B,QAAQ,4EACxBtC,EAAYlB,M,CA3EhBU,EAAIC,KAAK8C,iBAAiB,UAG1B,SAAkBC,GACfA,EAAEC,iBAEFC,iBAAiBC,EAAIH,EAAEI,cAAcC,SAASC,YAAYC,MAAMC,OAEhEhD,EAAYjB,OACZc,EAAkBoD,YA4DjBzD,EAAIE,QAAQwD,UAAY,GA1DzBjD,G,IAVHD,EAAYpB,OAAO2D,iBAAiB,QAAStC,E","sources":["src/01-index.js","src/components/loadMoreBtn.js","<<jsx-config-pragma.js>>"],"sourcesContent":["import simpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport Notiflix from \"notiflix\";\nimport GalleryApiService from \"./NewsApiService\";\nimport LoadMoreBtn from \"./components/loadMoreBtn\";\n\nconst ref = {\n  form: document.querySelector(\".search-form\"),\n  gallery: document.querySelector(\".gallery\"),\n\n}; \n \n\nconst lightbox = new simpleLightbox('.gallery a');\nconst galleryApiService = new GalleryApiService();\nconst loadMoreBtn = new LoadMoreBtn({\n  selector: \".load-more\",\n  isHidden: true,\n});\n\nref.form.addEventListener(\"submit\", onSubmit);\nloadMoreBtn.button.addEventListener(\"click\", fetchArticles);\n\nfunction onSubmit(e) {\n   e.preventDefault();\n   \n   galeryApiService.q = e.currentTarget.elements.searchQuery.value.trim();\n\n   loadMoreBtn.show();\n   galleryApiService.resetPage();\n   clearList();\n   fetchArticles();\n\n}\nfunction fetchArticles() {\n    loadMoreBtn.disable();\n    loadMoreBtn.show();\n\n    return galleryApiService\n      .getImagesy()\n      .then(res => {\n        notification(res);\n     \n       return ref.hits\n      })\n      .then(appendGallery)\n      .catch(OnError)\n      .finally(() => {\n        ref.form.reset();\n        loadMoreBtn.enable();\n\n      });\n}\nfunction appendGallery(markup) {\n    let img = '';\n    img = markup.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) =>\n    { return `\n    <a class=\"gallery-item\" href=\"${largeImageURL}\">\n    <div class=\"photo-card\">\n  \n    <img class=\"images\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" width=\"280\" height=\"180\"/>\n    \n<div class=\"info\">\n  <p class=\"info-item\"> <b>Likes</b>\n    <span>${likes}</span>\n  </p>\n  <p class=\"info-item\"><b>Views</b> \n    <span>${views}</span>\n  </p>\n  <p class=\"info-item\">\n    <b>Comments</b>\n    <span>${comments}</span>\n  </p>\n  <p class=\"info-item\">\n    <b>Downloads</b>\n    <span>${downloads}</span>\n  </p>\n</div>\n</div></a>`;\n    }\n    )\n    .join('');\n\n\n    ref.gallery.insertAdjacentHTML(\"beforeend\", img);\n    lightbox.refresh();\n  }\n  \n  function clearList() {\n    ref.gallery.innerHTML = \"\";\n  }\nfunction OnError(err) {\n    console.log (err);\n  \n    Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again.');\n    loadMoreBtn.hide();\n}\n\nfunction notification(res) {\n  if (galleryApiService.page === 2)\nNotiflix.Notify.success(`Hooray! We found ${res.totalHits} images.`);\nelse if (res.hits.length < galleryApiService.perPage) {\n  loadMoreBtn.hide();\n  Notiflix.Notify.warning(\n    \"We're sorry, but you've reached the end of search results.\"\n  );\n}  \n}\n\n","export default class LoadMoreBtn{\n    constructor ({selector, isHidden}){\n        this.button = this.getButton(selector);\n        if(isHidden) this.hide();\n        else this.show();\n    }\ngetButton(selector) {\n    return document.querySelector(selector);\n}\nhide() {\n    this.button.classList.add('hidden');\n}\nshow() {\n    this.button.classList.remove('hidden');\n}\ndisable() {\n    this.button.disable = true;\n    this.button.textContent = 'Loadind...';\n}\nenable() {\n    this.button.disable = false;\n    this.button.textContent = 'Load more';\n\n}\n}",null],"names":["$5IjG7","parcelRequire","$8MBJY","$04c6d3f7fdc7b5dc$export$2e2bcd8739ae039","LoadMoreBtn","param","selector","isHidden","this","button","getButton","hide","show","key","document","querySelector","classList","add","remove","disable","textContent","$07eb150d622544d8$var$ref","form","gallery","$07eb150d622544d8$var$lightbox","$parcel$interopDefault","$07eb150d622544d8$var$galleryApiService","$3Jz39","default","$07eb150d622544d8$var$loadMoreBtn","$07eb150d622544d8$var$fetchArticles","getImagesy","then","res","page","$6JpON","Notify","success","concat","totalHits","hits","length","perPage","warning","$07eb150d622544d8$var$notification","$07eb150d622544d8$var$appendGallery","catch","$07eb150d622544d8$var$OnError","finally","reset","enable","markup","img","map","webformatURL","largeImageURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","refresh","err","console","log","failure","addEventListener","e","preventDefault","galeryApiService","q","currentTarget","elements","searchQuery","value","trim","resetPage","innerHTML"],"version":3,"file":"01-loadMoreBtn.054a9dce.js.map"}